package com.mercurio.lms.seguranca.action;

import com.mercurio.adsm.framework.model.CrudAction;
import com.mercurio.adsm.framework.model.FindDefinition;
import com.mercurio.adsm.framework.model.ResultSetPage;
import com.mercurio.adsm.framework.util.TypedFlatMap;
import com.mercurio.lms.configuracoes.model.param.ConsultarUsuarioLMSParam;
import com.mercurio.lms.configuracoes.model.service.UsuarioLMSService;

/**
 * Generated by: ADSM ActionGenerator
 *  
 * Não inserir documentação após ou remover a tag do XDoclet a seguir.
 * O valor do <code>id</code> informado abaixo deve ser utilizado para referenciar este serviço.
 * @spring.bean id="lms.seguranca.consultarUsuarioLMSAction"
 */
public class ConsultarUsuarioLMSAction extends CrudAction {	
	
	private UsuarioLMSService getService(){
		return (UsuarioLMSService)defaultService;
	}
	
	public void setService(UsuarioLMSService usuarioLMSService) {
		this.defaultService = usuarioLMSService; 
	}

	public ResultSetPage findPaginated(TypedFlatMap tfm){			
		return getService().findPaginatedSistema(mountConsultarUsuarioLMSParam(tfm), FindDefinition.createFindDefinition(tfm));
	}

	private ConsultarUsuarioLMSParam mountConsultarUsuarioLMSParam(TypedFlatMap tfm) {
		ConsultarUsuarioLMSParam cup = new ConsultarUsuarioLMSParam();
		cup.setIdUsuario(tfm.getLong("idUsuario"));
		cup.setNrMatricula(tfm.getString("nrMatricula"));
		cup.setNmUsuario(tfm.getString("nmUsuario"));
		cup.setLogin(tfm.getString("login"));
		cup.setTpCategoriaUsuario(tfm.getString("tpCategoriaUsuario"));
		return cup;
	}

	public Integer getRowCount(TypedFlatMap tfm){
		return getService().getRowCountSistema(mountConsultarUsuarioLMSParam(tfm));
	}
}