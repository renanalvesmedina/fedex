package com.mercurio.lms.configuracoes.action;

import java.util.ArrayList;
import java.util.List;

import com.mercurio.adsm.framework.model.CrudAction;
import com.mercurio.adsm.framework.util.TypedFlatMap;
import com.mercurio.lms.configuracoes.model.TelefoneContato;
import com.mercurio.lms.configuracoes.model.service.TelefoneContatoService;

import com.mercurio.adsm.framework.annotations.ParametrizedAttribute;

/**
 * Generated by: ADSM ActionGenerator
 *  
 * Não inserir documentação após ou remover a tag do XDoclet a seguir.
 * O valor do <code>id</code> informado abaixo deve ser utilizado para referenciar este serviço.
 * @spring.bean id="lms.configuracoes.manterTelefonesContatosAction"
 */

public class ManterTelefonesContatosAction extends CrudAction {
	
	public void setTelefoneContato(TelefoneContatoService telefoneContatoService) {
		this.defaultService = telefoneContatoService;
	}
	
	public TelefoneContatoService getTelefoneContatoService(){
		return ((TelefoneContatoService)defaultService);
	}
	
    public void removeById(java.lang.Long id) {
        ((TelefoneContatoService)defaultService).removeById(id);
    }

	/**
	 *
	 */
	@ParametrizedAttribute(type = java.lang.Long.class)
    public void removeByIds(List ids) {
    	((TelefoneContatoService)defaultService).removeByIds(ids);
    }

    public TelefoneContato findById(java.lang.Long id) {
    	return ((TelefoneContatoService)defaultService).findById(id);
    }
    
    /**
     * Criado para buscar o TelefoneContato sem os dados já recebidos da tela que o chamou
     *
     * @author José Rodrigo Moraes
     * @since 04/12/2006
     *
     * @param id
     * @return
     */
    public List findByIdCustomized(Long id){
    	
    	List lista = null;
    	TypedFlatMap tfm = null;    	
    	TelefoneContato tc = getTelefoneContatoService().findByIdCustomized(id);
    	
    	if( tc != null ){
    		tfm = new TypedFlatMap();
    		tfm.put("idTelefoneContato",tc.getIdTelefoneContato());
    		tfm.put("nrRamal",tc.getNrRamal());
    		tfm.put("contato.idContato",tc.getContato().getIdContato());
    		tfm.put("contato.nmContato",tc.getContato().getNmContato());    		
    		tfm.put("telefoneEndereco.idTelefoneEndereco",tc.getTelefoneEndereco().getIdTelefoneEndereco());    		
    		tfm.put("telefoneEndereco.dddTelefone",tc.getTelefoneEndereco().getDddTelefone());
    		lista = new ArrayList();
    		lista.add(tfm);
    	}
    	
    	return lista;
    }

}
