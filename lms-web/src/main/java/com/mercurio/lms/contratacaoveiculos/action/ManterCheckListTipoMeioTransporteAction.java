package com.mercurio.lms.contratacaoveiculos.action;

import java.util.List;
import java.util.Map;

import com.mercurio.adsm.framework.model.CrudAction;
import com.mercurio.adsm.framework.util.TypedFlatMap;
import com.mercurio.lms.contratacaoveiculos.model.ItChecklistTpMeioTransp;
import com.mercurio.lms.contratacaoveiculos.model.ItemCheckList;
import com.mercurio.lms.contratacaoveiculos.model.TipoMeioTransporte;
import com.mercurio.lms.contratacaoveiculos.model.service.ItChecklistTpMeioTranspService;
import com.mercurio.lms.contratacaoveiculos.model.service.ItemCheckListService;
import com.mercurio.lms.contratacaoveiculos.model.service.TipoMeioTransporteService;
import com.mercurio.lms.util.JTVigenciaUtils;

import com.mercurio.adsm.framework.annotations.ParametrizedAttribute;
/**
 * Generated by: ADSM ActionGenerator
 *  
 * Não inserir documentação após ou remover a tag do XDoclet a seguir.
 * O valor do <code>id</code> informado abaixo deve ser utilizado para referenciar este serviço.
 * @spring.bean id="lms.contratacaoveiculos.manterCheckListTipoMeioTransporteAction"
 */

public class ManterCheckListTipoMeioTransporteAction extends CrudAction {
	private TipoMeioTransporteService tipoMeioTransporteService;
	private ItemCheckListService itemCheckListService;
	
	
	public void setService(ItChecklistTpMeioTranspService serviceService) {
		this.defaultService = serviceService;
	}
    public void removeById(java.lang.Long id) {
        ((ItChecklistTpMeioTranspService)defaultService).removeById(id);
    }
    
	public Map store(TypedFlatMap view) {
		TipoMeioTransporte tipoMeioTransporte = new TipoMeioTransporte();
						   tipoMeioTransporte.setIdTipoMeioTransporte(view.getLong("tipoMeioTransporte.idTipoMeioTransporte"));
		ItemCheckList itemCheckList = new ItemCheckList();
					  itemCheckList.setIdItemCheckList(view.getLong("itemCheckList.idItemCheckList"));
		ItChecklistTpMeioTransp bean = new ItChecklistTpMeioTransp();
								bean.setTpItChecklistTpMeioTransp(view.getDomainValue("tpItChecklistTpMeioTransp"));	
								bean.setBlObrigatorioAprovacao(view.getBoolean("blObrigatorioAprovacao"));
								bean.setDtVigenciaInicial(view.getYearMonthDay("dtVigenciaInicial"));
								bean.setDtVigenciaFinal(view.getYearMonthDay("dtVigenciaFinal"));
								bean.setTipoMeioTransporte(tipoMeioTransporte);
								bean.setItemCheckList(itemCheckList);
								bean.setIdItChecklistTpMeioTransp(view.getLong("idItChecklistTpMeioTransp"));
								
		TypedFlatMap result = new TypedFlatMap();
		result.put("idItChecklistTpMeioTransp",((ItChecklistTpMeioTranspService)defaultService).store(bean));
		result.put("acaoVigenciaAtual",JTVigenciaUtils.getIntegerAcaoVigencia(bean));
		return result;
	}
	
	/**
	 *
	 */
	@ParametrizedAttribute(type = java.lang.Long.class)
    public void removeByIds(List ids) {
    	((ItChecklistTpMeioTranspService)defaultService).removeByIds(ids);
    }

    public Map findById(java.lang.Long id) {
    	ItChecklistTpMeioTransp bean = ((ItChecklistTpMeioTranspService)defaultService).findById(id);
    	TypedFlatMap result = new TypedFlatMap();
    	
    	TipoMeioTransporte tipoMeioTransporte = bean.getTipoMeioTransporte();
    	result.put("idItChecklistTpMeioTransp",bean.getIdItChecklistTpMeioTransp());
		result.put("tipoMeioTransporte.tpMeioTransporte",tipoMeioTransporte.getTpMeioTransporte().getValue());
		result.put("tipoMeioTransporte.idTipoMeioTransporte",tipoMeioTransporte.getIdTipoMeioTransporte());
		result.put("itemCheckList.idItemCheckList",bean.getItemCheckList().getIdItemCheckList());
		result.put("tpItChecklistTpMeioTransp",bean.getTpItChecklistTpMeioTransp().getValue());
		result.put("blObrigatorioAprovacao",bean.getBlObrigatorioAprovacao());
		result.put("dtVigenciaInicial",bean.getDtVigenciaInicial());
		result.put("dtVigenciaFinal",bean.getDtVigenciaFinal());
    	result.put("acaoVigenciaAtual",JTVigenciaUtils.getIntegerAcaoVigencia(bean));
    	return result;
    }
    

    public List findComboitemCheckList(Map nested) {
    	return itemCheckListService.find(nested);
    }
    public List findLookupTipoMeioTransporte(Map nested) {
    	return tipoMeioTransporteService.find(nested);
    }
	public TipoMeioTransporteService getTipoMeioTransporteService() {
		return tipoMeioTransporteService;
	}
	public void setTipoMeioTransporteService(
			TipoMeioTransporteService tipoMeioTransporteService) {
		this.tipoMeioTransporteService = tipoMeioTransporteService;
	}
	public ItemCheckListService getItemCheckListService() {
		return itemCheckListService;
	}
	public void setItemCheckListService(ItemCheckListService itemCheckListService) {
		this.itemCheckListService = itemCheckListService;
	}
}
